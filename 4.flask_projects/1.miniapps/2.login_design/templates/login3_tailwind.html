<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
    <div class="bg-white p-8 rounded shadow-md w-full max-w-md">
        <h2 class="text-2xl mb-6 text-center">로그인</h2>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="bg-{{ 'green' if category == 'success' else 'red' }}-100 border border-{{ 'green' if category == 'success' else 'red' }}-400 text-{{ 'green' if category == 'success' else 'red' }}-700 px-4 py-3 rounded relative mb-4" role="alert">
                        <strong class="font-bold">{{ '성공!' if category == 'success' else '실패!' }}</strong>
                        <span class="block sm:inline">{{ message }}</span>
                        
                        <button type="button" class="absolute top-0 right-0 mt-2 mr-2 text-{{ 'green' if category == 'success' else 'red' }}-500" onclick="this.parentElement.style.display='none';">
                            <i class="fas fa-times"></i>
                        </button>
                        
                        <!-- <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
                            <svg class="fill-current h-6 w-6 text-{{ 'green' if category == 'success' else 'red' }}-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" onclick="this.parentElement.parentElement.style.display='none';">
                                <title>Close</title>
                                <path d="M14.348 5.652a1 1 0 10-1.414-1.414L10 7.172 7.066 4.238a1 1 0 00-1.414 1.414l2.934 2.934-2.934 2.934a1 1 0 001.414 1.414L10 10.828l2.934 2.934a1 1 0 001.414-1.414l-2.934-2.934 2.934-2.934z"/>
                            </svg>
                        </span> -->
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <form method="POST" action="{{ url_for('login') }}">
            <div class="mb-4">
                <label for="username" class="block text-gray-700">사용자 이름</label>
                <div class="flex items-center border-b border-b-2 border-gray-300 py-2">
                    <i class="fas fa-user text-gray-400 mr-3"></i>
                    <input type="text" id="username" name="username" class="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none" required>
                </div>
            </div>
            <div class="mb-6">
                <label for="password" class="block text-gray-700">비밀번호</label>
                <div class="flex items-center border-b border-b-2 border-gray-300 py-2">
                    <i class="fas fa-lock text-gray-400 mr-3"></i>
                    <input type="password" id="password" name="password" class="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none" required>
                </div>
            </div>
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full">로그인</button>
        </form>
    </div>
</body>
</html>
