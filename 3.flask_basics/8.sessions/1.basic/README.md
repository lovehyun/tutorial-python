# 1.simple
## 쿠키와 세션

**쿠키**와 **세션**은 웹 애플리케이션에서 사용자 상태와 데이터를 관리하기 위해 자주 사용되는 두 가지 메커니즘입니다. 두 방법 모두 사용자와 서버 간의 지속적인 상호작용을 가능하게 하지만, 각각의 특징과 사용 방식이 다릅니다.

## 쿠키 (Cookies)

**쿠키**는 클라이언트 측(웹 브라우저)에 저장되는 작은 데이터 조각입니다. 쿠키는 서버가 클라이언트에게 보내고, 클라이언트는 이후 요청 시마다 쿠키를 서버로 다시 보냅니다.

- **저장 위치**: 클라이언트(브라우저)에 저장됩니다.
- **수명**: 설정된 만료 기간에 따라 지속됩니다(예: 브라우저 세션 동안 또는 특정 날짜까지).
- **용량 제한**: 각 쿠키의 크기는 약 4KB로 제한됩니다. 또한, 각 도메인당 쿠키 수의 제한이 있습니다.
- **보안**: 쿠키는 클라이언트에 저장되므로 사용자가 쉽게 접근하고 수정할 수 있습니다. 중요한 정보는 쿠키에 저장하지 않는 것이 좋습니다.

## 세션 (Sessions)

**세션**은 서버 측에서 사용자 데이터를 저장하는 방법입니다. 세션은 클라이언트에 저장되는 고유한 세션 ID를 사용하여 서버 측 데이터를 식별합니다. 세션 ID는 쿠키나 URL 파라미터를 통해 클라이언트와 서버 간에 전달됩니다.

- **저장 위치**: 서버에 저장됩니다.
- **수명**: 서버 설정에 따라 지속됩니다. 일반적으로 세션은 사용자가 브라우저를 닫을 때까지 지속되지만, 특정 시간 후에 만료될 수 있습니다.
- **용량 제한**: 서버가 관리하므로 이론적으로는 큰 용량의 데이터를 저장할 수 있습니다.
- **보안**: 데이터가 서버에 저장되므로 비교적 안전합니다. 세션 ID만 클라이언트에 저장되므로, 세션 ID가 유출되지 않도록 해야 합니다.

### 세션 설정

- **비밀 키 설정**: 세션 데이터의 암호화를 위한 비밀 키를 설정합니다. 운영 환경에서는 강력한 랜덤 값으로 설정해야 합니다.

### 세션에 데이터 저장

- **세션에 문자열 데이터 저장**: 예를 들어 `session['username'] = 'user'`와 같이 세션에 데이터를 저장합니다.
- **세션에 숫자 데이터 저장**: 예를 들어 `session['count'] = 42`와 같이 세션에 데이터를 저장합니다.
- **세션에 리스트 데이터 저장**: 예를 들어 `session['my_list'] = [1, 2, 3, 4, 5]`와 같이 세션에 데이터를 저장합니다.

### 세션 데이터 설정

- **URL 파라미터로 세션 데이터 설정**: URL 파라미터로 전달된 값을 세션에 저장합니다.

### 세션 데이터 가져오기

- **세션에서 데이터 가져오기**: 세션에서 데이터를 가져와 JSON 형식으로 반환합니다. 세션 데이터가 없으면 기본값을 반환합니다.

## 쿠키와 세션의 상호작용

- **쿠키**: 세션 ID를 클라이언트에 저장하는 데 사용됩니다. 클라이언트는 이 세션 ID를 쿠키를 통해 서버로 보냅니다.
- **세션**: 서버는 세션 ID를 사용하여 세션 데이터를 식별하고 관리합니다.

### 예시

1. **세션 설정**:
   ```sh
   curl -X GET http://127.0.0.1:5000/set_session/1234 -c cookies.txt
   ```
   이 명령은 data 값을 1234로 설정하고, 쿠키를 cookies.txt 파일에 저장합니다.

2. **세션 데이터 가져오기**:
   ```sh
   curl -X GET http://127.0.0.1:5000/get_session -b cookies.txt
   ```
   이 명령은 cookies.txt 파일에 저장된 쿠키를 사용하여 서버에 요청을 보내고, 세션 데이터를 가져옵니다.


# 2.simple-db

## 방법 1: Flask-Session을 사용하여 세션 데이터 저장
- 이 방법은 Flask-Session 확장을 사용하여 세션 데이터를 SQLAlchemy를 통해 데이터베이스에 자동으로 저장합니다.

### 특징:
1. **자동 저장**: Flask-Session이 자동으로 세션 데이터를 SQLAlchemy를 통해 데이터베이스에 저장합니다.
2. **간결함**: 세션 데이터를 저장하기 위해 별도의 코드를 작성할 필요가 없습니다.
3. **관리 용이**: 세션 관리를 Flask-Session에 맡기므로 코드가 간결해지고 관리가 쉽습니다.


# 3.simple-db2

## 방법 2: 직접 데이터베이스에 세션 데이터 저장
- 이 방법은 세션 데이터를 직접 SQLAlchemy 모델을 사용하여 데이터베이스에 저장합니다.

### 특징:
1. **수동 저장**: 세션 데이터를 데이터베이스에 저장하기 위해 직접 코드 작성이 필요합니다.
2. **유연성**: 세션 데이터를 저장하고 관리하는 방법을 완전히 커스터마이징할 수 있습니다.
3. **복잡성**: 코드가 복잡해지고, 세션 데이터를 저장 및 불러오는 로직을 직접 구현해야 합니다.

# 주요 차이점

## 자동 vs. 수동
- **방법 1 (Flask-Session)**: 세션 데이터를 자동으로 저장하고 관리합니다.
- **방법 2**: 세션 데이터를 수동으로 저장하고 관리합니다.

## 코드 복잡도
- **방법 1**: 코드가 간결하고 관리가 용이합니다.
- **방법 2**: 코드가 더 복잡해지고 관리할 부분이 많아집니다.

## 유연성
- **방법 1**: 기본적인 세션 관리 기능을 제공합니다.
- **방법 2**: 세션 관리에 대한 완전한 제어권을 가집니다. 예를 들어, 세션 데이터를 특별한 방식으로 변환하거나 추가 로직을 실행할 수 있습니다.

# 결론
- **Flask-Session (방법 1)**: 일반적인 세션 관리 요구 사항을 충족시키고, 간편한 세션 관리를 제공합니다.
- **직접 데이터베이스에 저장 (방법 2)**: 고급 사용자 정의가 필요하거나, 세션 데이터를 특별히 처리해야 하는 경우에 유용합니다.

각 방법의 장단점을 고려하여, 애플리케이션의 요구 사항에 맞는 방법을 선택할 수 있습니다.
